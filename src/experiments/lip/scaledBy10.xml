<?xml version="1.0" encoding="utf-8"?><nta><declaration>
  //chan savail, vavail;			//SoundStr
  //chan sti,std,sclock;			//VideoStr
  //chan vok, vokk, vlate; 		//SouncClock
  //chan sokk, ums, ume, slate;    //VideoWdg
  //chan ss0,ss1,ssynch_error,sready; 	//SoundSynch
  //chan sv0, sv1, vready, vsynch_error; //VideoSynch
  urgent chan sok;
  chan savail,vavail, //availability of sound and video packages
	sready,vready, //readines of sound and video packages
	spresent,vpresent, vok,sokk,vokk,
	sti,std,ss0,ss1,sv0, sv1, slate, vlate,
	sclock, ums, ume;
  //chan vpresent, spresent; //???
 chan ssynch_error, vsynch_error;
clock t1,t2,t3,t4,tClock,t6,t7;
int vmins;
      </declaration><template><name x="5" y="5">SoundStr</name><declaration>// Place local declarations here.
      </declaration><location id="id0" x="-56" y="-104"><name x="-40" y="-128">so2</name><label kind="invariant" x="-40" y="-112">t6&lt;=3</label></location><location id="id1" x="-56" y="-200"><name x="-66" y="-230">so1</name><label kind="invariant" x="-8" y="-224">t6&lt;=0</label></location><init ref="id1"/><transition><source ref="id0"/><target ref="id0"/><label kind="guard" x="-72" y="-48">t6==3</label><label kind="synchronisation" x="-72" y="-32">savail!</label><label kind="assignment" x="-72" y="-16">t6:=0</label><nail x="-104" y="-48"/><nail x="-8" y="-48"/></transition><transition><source ref="id1"/><target ref="id0"/><label kind="synchronisation" x="-40" y="-184">savail!</label><label kind="assignment" x="-40" y="-168">t6:=0</label></transition></template><template><name x="5" y="5">VideoStr</name><declaration>// Place local declarations here.
      </declaration><location id="id2" x="-56" y="-104"><name x="-40" y="-128">vi2</name><label kind="invariant" x="-40" y="-112">t7&lt;=45</label></location><location id="id3" x="-56" y="-200"><name x="-56" y="-232">vi1</name><label kind="invariant" x="-8" y="-224">t7&lt;=0</label></location><init ref="id3"/><transition><source ref="id2"/><target ref="id2"/><label kind="guard" x="-80" y="-48">t7&gt;=35</label><label kind="synchronisation" x="-80" y="-32">vavail!</label><label kind="assignment" x="-80" y="-16">t7:=0</label><nail x="-104" y="-48"/><nail x="-8" y="-48"/></transition><transition><source ref="id3"/><target ref="id2"/><label kind="synchronisation" x="-40" y="-184">vavail!</label><label kind="assignment" x="-40" y="-168">t7:=0</label></transition></template><template><name>SoundClock</name><location id="id4" x="-104" y="-32"><name x="-112" y="-16">st2</name></location><location id="id5" x="-16" y="-72"><name x="-26" y="-102">st3</name><label kind="invariant" x="-24" y="-152">tClock&lt;=1</label></location><location id="id6" x="-104" y="-120"><name x="-114" y="-150">st1</name></location><init ref="id6"/><transition><source ref="id4"/><target ref="id5"/><label kind="synchronisation" x="-80" y="-40">sclock?</label><label kind="assignment" x="-80" y="-24">tClock:=0</label></transition><transition><source ref="id5"/><target ref="id5"/><label kind="guard" x="72" y="-96">tClock==1 and vmins&gt;=-32</label><label kind="assignment" x="72" y="-80">vmins:=vmins-1,
tClock:=0</label><nail x="56" y="-104"/><nail x="56" y="-32"/></transition><transition><source ref="id6"/><target ref="id4"/><label kind="synchronisation" x="-136" y="-88">std?</label></transition><transition><source ref="id6"/><target ref="id5"/><label kind="synchronisation" x="-72" y="-136">sti?</label><label kind="assignment" x="-72" y="-120">tClock:=0</label></transition></template><template><name>VideoWdg</name><location id="id7" x="-64" y="96"><name x="-72" y="112">vw4</name><committed/></location><location id="id8" x="-64" y="0"><name x="-48" y="-48">vw3</name><label kind="invariant" x="-48" y="-32">t4&lt;=5</label></location><location id="id9" x="-64" y="-88"><name x="-74" y="-118">vw7</name><label kind="invariant" x="-40" y="-120">t4&lt;=0</label></location><location id="id10" x="-168" y="-88"><name x="-178" y="-118">vw1</name></location><init ref="id10"/><transition><source ref="id7"/><target ref="id8"/><label kind="guard" x="-176" y="64">t4&gt;=3 and 
t4&lt;=5</label><label kind="synchronisation" x="-136" y="32">vok?</label><label kind="assignment" x="-136" y="48">t4:=0</label><nail x="-96" y="48"/></transition><transition><source ref="id8"/><target ref="id7"/><label kind="synchronisation" x="-24" y="40">vokk!</label><nail x="-40" y="48"/></transition><transition><source ref="id9"/><target ref="id8"/><label kind="synchronisation" x="-112" y="-71">vokk!</label><label kind="assignment" x="-112" y="-56">t4:=0</label></transition><transition><source ref="id10"/><target ref="id9"/><label kind="synchronisation" x="-136" y="-144">vok?</label><label kind="assignment" x="-136" y="-128">t4:=0</label></transition></template><template><name>SoundWdg</name><location id="id11" x="-200" y="32"><name x="-240" y="24">sw4</name><committed/></location><location id="id12" x="-96" y="32"><name x="-112" y="0">sw8</name><committed/></location><location id="id13" x="0" y="32"><name x="16" y="40">sw2</name></location><location id="id14" x="-88" y="-32"><name x="-152" y="-64">sw3</name><label kind="invariant" x="-160" y="-48">t3&lt;=3</label></location><location id="id15" x="-88" y="-104"><name x="-72" y="-136">sw7</name><label kind="invariant" x="-64" y="-120">t3&lt;=0</label></location><location id="id16" x="-200" y="-104"><name x="-210" y="-134">sw1</name></location><init ref="id16"/><transition><source ref="id11"/><target ref="id14"/><label kind="synchronisation" x="-176" y="-24">sokk!</label></transition><transition><source ref="id12"/><target ref="id11"/><label kind="synchronisation" x="-160" y="32">ume!</label></transition><transition><source ref="id13"/><target ref="id12"/><label kind="synchronisation" x="-72" y="32">sok?</label></transition><transition><source ref="id14"/><target ref="id13"/><label kind="guard" x="-56" y="-48">t3==3</label><label kind="synchronisation" x="-56" y="-32">ums!</label><label kind="assignment" x="-40" y="-16">t3:=0</label></transition><transition><source ref="id15"/><target ref="id14"/><label kind="synchronisation" x="-80" y="-88">sokk!</label><label kind="assignment" x="-80" y="-72">t3:=0</label></transition><transition><source ref="id16"/><target ref="id15"/><label kind="synchronisation" x="-168" y="-152">sok?</label><label kind="assignment" x="-168" y="-136">t3:=0</label></transition></template><template><name>SoundSynch</name><location id="id17" x="-144" y="40"><name x="-160" y="8">s06</name></location><location id="id18" x="-24" y="40"><name x="-8" y="40">s05</name></location><location id="id19" x="-24" y="-40"><name x="-8" y="-64">s04</name><committed/></location><location id="id20" x="-24" y="-136"><name x="-8" y="-152">s03</name><committed/></location><location id="id21" x="-24" y="-208"><name x="-8" y="-224">s02</name><label kind="invariant" x="-8" y="-208">t2&lt;=2</label></location><location id="id22" x="-24" y="-280"><name x="-16" y="-312">s01</name></location><init ref="id22"/><transition><source ref="id22"/><target ref="id18"/><label kind="synchronisation" x="64" y="-128">ss1?</label><nail x="56" y="-280"/><nail x="56" y="40"/></transition><transition><source ref="id17"/><target ref="id18"/><label kind="synchronisation" x="-96" y="-8">sok!</label><nail x="-88" y="16"/></transition><transition><source ref="id18"/><target ref="id17"/><label kind="synchronisation" x="-112" y="40">sready?</label></transition><transition><source ref="id19"/><target ref="id18"/><label kind="synchronisation" x="-16" y="-16">sclock!</label></transition><transition><source ref="id20"/><target ref="id19"/><label kind="synchronisation" x="-16" y="-96">sok!</label></transition><transition><source ref="id21"/><target ref="id20"/><label kind="guard" x="-96" y="-200">t2&lt;=2</label><label kind="synchronisation" x="-96" y="-176">sready?</label></transition><transition><source ref="id22"/><target ref="id21"/><label kind="synchronisation" x="-16" y="-264">ss0?</label><label kind="assignment" x="-16" y="-248">t2:=0</label></transition></template><template><name>VideoSynch</name><location id="id23" x="-216" y="88"><name x="-264" y="88">v04</name><label kind="invariant" x="-256" y="104">t1&lt;=1</label></location><location id="id24" x="-264" y="0"><name x="-274" y="-30">v07</name></location><location id="id25" x="-96" y="-96"><name x="-80" y="-112">v02</name><label kind="invariant" x="-80" y="-96">t1&lt;=15</label></location><location id="id26" x="-96" y="0"><name x="-88" y="8">v03</name><label kind="invariant" x="-80" y="24">t1&lt;=0</label></location><location id="id27" x="64" y="0"><name x="72" y="-24">v05</name></location><location id="id28" x="-96" y="-168"><name x="-106" y="-198">v01</name></location><init ref="id28"/><transition><source ref="id23"/><target ref="id26"/><label kind="guard" x="-136" y="48">t1==1</label><label kind="assignment" x="-136" y="64">t1:=0</label><nail x="-96" y="88"/></transition><transition><source ref="id26"/><target ref="id23"/><label kind="guard" x="-232" y="24">vmins&gt;15</label></transition><transition><source ref="id26"/><target ref="id24"/><label kind="guard" x="-240" y="-40">vmins&lt;-15</label><label kind="synchronisation" x="-240" y="-24">vsynch_error?</label></transition><transition><source ref="id25"/><target ref="id26"/><label kind="guard" x="-168" y="-88">t1&lt;=15</label><label kind="synchronisation" x="-152" y="-64">vready?</label><label kind="assignment" x="-152" y="-48">t1:=0</label></transition><transition><source ref="id28"/><target ref="id25"/><label kind="synchronisation" x="-88" y="-151">sv0?</label><label kind="assignment" x="-88" y="-136">t1:=0</label></transition><transition><source ref="id27"/><target ref="id26"/><label kind="synchronisation" x="-32" y="-56">vready?</label><label kind="assignment" x="-32" y="-40">t1:=0</label><nail x="-24" y="-24"/></transition><transition><source ref="id26"/><target ref="id27"/><label kind="guard" x="0" y="32">vmins&lt;=2 and
vmins&gt;=-15</label><label kind="synchronisation" x="0" y="64">vok!</label><label kind="assignment" x="0" y="80">vmins:=vmins+4</label><nail x="-16" y="24"/></transition><transition><source ref="id28"/><target ref="id27"/><label kind="synchronisation" x="24" y="-144">sv1?</label><nail x="64" y="-168"/></transition></template><template><name>Synch</name><location id="id29" x="240" y="-8"><name x="230" y="-38">sy8</name></location><location id="id30" x="136" y="-8"><name x="126" y="-38">sy7</name><committed/></location><location id="id31" x="32" y="-8"><name x="22" y="-38">sy6</name><committed/></location><location id="id32" x="-72" y="-8"><name x="-82" y="-38">sy3</name><committed/></location><location id="id33" x="-168" y="-8"><name x="-178" y="-38">sy2</name><committed/></location><location id="id34" x="240" y="-120"><name x="230" y="-150">sy11</name></location><location id="id35" x="144" y="-120"><name x="134" y="-150">sy10</name><committed/></location><location id="id36" x="40" y="-120"><name x="30" y="-150">sy9</name><committed/></location><location id="id37" x="-72" y="-120"><name x="-82" y="-150">sy5</name><committed/></location><location id="id38" x="-160" y="-120"><name x="-170" y="-150">sy4</name><committed/></location><location id="id39" x="-216" y="-64"><name x="-248" y="-96">sy1</name></location><init ref="id39"/><transition><source ref="id30"/><target ref="id29"/><label kind="synchronisation" x="176" y="-32">sv0!</label></transition><transition><source ref="id31"/><target ref="id30"/><label kind="synchronisation" x="64" y="-32">ss1!</label></transition><transition><source ref="id32"/><target ref="id31"/><label kind="synchronisation" x="-40" y="-32">sti!</label></transition><transition><source ref="id33"/><target ref="id32"/><label kind="synchronisation" x="-144" y="-32">sok!</label></transition><transition><source ref="id39"/><target ref="id33"/><label kind="synchronisation" x="-248" y="-40">sready?</label></transition><transition><source ref="id35"/><target ref="id34"/><label kind="synchronisation" x="176" y="-112">ss0!</label></transition><transition><source ref="id36"/><target ref="id35"/><label kind="synchronisation" x="72" y="-112">sv1!</label></transition><transition><source ref="id37"/><target ref="id36"/><label kind="synchronisation" x="-32" y="-112">std!</label></transition><transition><source ref="id38"/><target ref="id37"/><label kind="synchronisation" x="-136" y="-112">vok!</label></transition><transition><source ref="id39"/><target ref="id38"/><label kind="synchronisation" x="-240" y="-120">vready?</label></transition></template><template><name>VideoMgr</name><location id="id40" x="-32" y="32"><name x="-16" y="32">vm7</name></location><location id="id41" x="-176" y="32"><name x="-168" y="48">vm2</name><committed/></location><location id="id42" x="-176" y="-56"><name x="-216" y="-56">vm1</name></location><init ref="id42"/><transition><source ref="id40"/><target ref="id42"/><label kind="synchronisation" x="-24" y="-24">vokk?</label><nail x="-32" y="-56"/></transition><transition><source ref="id41"/><target ref="id40"/><label kind="synchronisation" x="-112" y="32">vready!</label></transition><transition><source ref="id42"/><target ref="id41"/><label kind="synchronisation" x="-168" y="-32">vavail?</label></transition></template><template><name>SoundMgr</name><location id="id43" x="-32" y="32"><name x="-16" y="32">sm7</name></location><location id="id44" x="-176" y="32"><name x="-168" y="48">sm2</name><committed/></location><location id="id45" x="-176" y="-56"><name x="-216" y="-56">sm1</name></location><init ref="id45"/><transition><source ref="id43"/><target ref="id45"/><label kind="synchronisation" x="-24" y="-24">sokk?</label><nail x="-32" y="-56"/></transition><transition><source ref="id44"/><target ref="id43"/><label kind="synchronisation" x="-112" y="32">sready!</label></transition><transition><source ref="id45"/><target ref="id44"/><label kind="synchronisation" x="-160" y="-32">savail?</label></transition></template><template><name>UrgMon</name><location id="id46" x="-56" y="-72"><name x="-66" y="-102">u2</name><label kind="invariant" x="-64" y="-64">t3&lt;=1</label></location><location id="id47" x="-176" y="-72"><name x="-186" y="-102">u1</name></location><init ref="id47"/><transition><source ref="id46"/><target ref="id47"/><label kind="synchronisation" x="-168" y="-32">ume?</label><nail x="-112" y="-24"/></transition><transition><source ref="id47"/><target ref="id46"/><label kind="synchronisation" x="-136" y="-96">ums?</label></transition></template><template><name>Consumer</name><location id="id48" x="-176" y="-80"></location><init ref="id48"/><transition><source ref="id48"/><target ref="id48"/><label kind="synchronisation" x="-120" y="-200">slate!</label><nail x="-184" y="-192"/><nail x="-64" y="-160"/></transition><transition><source ref="id48"/><target ref="id48"/><label kind="synchronisation" x="-272" y="-184">vlate!</label><nail x="-272" y="-136"/><nail x="-200" y="-176"/></transition><transition><source ref="id48"/><target ref="id48"/><label kind="synchronisation" x="-304" y="32">vsynch_error!</label><nail x="-176" y="-56"/><nail x="-184" y="56"/><nail x="-280" y="-32"/></transition><transition><source ref="id48"/><target ref="id48"/><label kind="synchronisation" x="-24" y="-72">ssynch_error!</label><nail x="-24" y="-128"/><nail x="-48" y="8"/></transition></template><template><name x="5" y="5">Ideal</name><declaration>// Place local declarations here.
      </declaration><location id="id49" x="-56" y="-104"><name x="-40" y="-128">vi2</name><label kind="invariant" x="-40" y="-112">t7&lt;=4</label></location><location id="id50" x="-56" y="-200"><name x="-66" y="-230">vo1</name><committed/></location><init ref="id50"/><transition><source ref="id49"/><target ref="id49"/><label kind="guard" x="-48" y="-24">t7==4</label><label kind="synchronisation" x="-88" y="-32">vavail!</label><label kind="assignment" x="-80" y="-48">t7:=0</label><nail x="-104" y="-48"/><nail x="-8" y="-48"/></transition><transition><source ref="id50"/><target ref="id49"/><label kind="synchronisation" x="-40" y="-184">vavail!</label><label kind="assignment" x="-40" y="-168">t7:=0</label></transition></template><template><name x="5" y="5">Anchored</name><declaration>// Place local declarations here.
      </declaration><location id="id51" x="-64" y="8"><name x="-48" y="0">vi3</name><label kind="invariant" x="-96" y="24">t7&lt;=10</label></location><location id="id52" x="-56" y="-104"><name x="-40" y="-128">vi2</name><label kind="invariant" x="-40" y="-112">t7&lt;=40</label></location><location id="id53" x="-56" y="-200"><name x="-66" y="-230">vo1</name><label kind="invariant" x="-8" y="-216">t7&lt;=0</label></location><init ref="id53"/><transition><source ref="id51"/><target ref="id52"/><label kind="synchronisation" x="-16" y="-64">vavail!</label><nail x="-16" y="-32"/></transition><transition><source ref="id52"/><target ref="id51"/><label kind="guard" x="-152" y="-96">t7==40</label><label kind="assignment" x="-152" y="-72">t7:=0</label><nail x="-104" y="-48"/></transition><transition><source ref="id53"/><target ref="id52"/><label kind="synchronisation" x="-40" y="-184">vavail!</label><label kind="assignment" x="-40" y="-168">t7:=5</label></transition></template><template><name x="5" y="5">NonAnch</name><declaration>// Place local declarations here.
      </declaration><location id="id54" x="-56" y="-104"><name x="-40" y="-128">vi2</name><label kind="invariant" x="-40" y="-112">t7&lt;=5</label></location><location id="id55" x="-56" y="-200"><name x="-66" y="-230">vo1</name><label kind="invariant" x="-32" y="-224">t7&lt;=0</label></location><init ref="id55"/><transition><source ref="id54"/><target ref="id54"/><label kind="guard" x="-88" y="-48">t7&gt;=4</label><label kind="synchronisation" x="-88" y="-32">vavail!</label><label kind="assignment" x="-88" y="-16">t7:=0</label><nail x="-104" y="-48"/><nail x="-8" y="-48"/></transition><transition><source ref="id55"/><target ref="id54"/><label kind="synchronisation" x="-40" y="-184">vavail!</label><label kind="assignment" x="-40" y="-168">t7:=0</label></transition></template><system>  // List one or more processes to be composed into a system.
  system SoundStr, //scaled
//NonAnch, //scaled
Ideal,//scaled
	SoundMgr,VideoMgr, //N/A
	SoundWdg,VideoWdg,//scaled
	SoundSynch,VideoSynch,//scaled
	SoundClock,//scaled
        Synch,UrgMon,
	Consumer;
   </system></nta>
